- locale_value = @current_community.default_locale
.categories-list.field-data{id: f.index, data: {"field-id": f.index, new: f.object.new_record? ? '1' : nil}}
  = f.hidden_field :id
  = f.hidden_field :sort_priority, class: 'sort-priority'
  = f.hidden_field :_destroy, class: 'destroy-record'
  = f.hidden_field :asset_id
  = hidden_field_tag 'item_counter'

  .field-data-image.col.field-data-image-wrapper
    - if presenter.category_image(f.index).present?
      %img{src: presenter.category_image_url(f.index)}
    - else
      %img
  .col-10.category-name-lp
    - if presenter.category_name(f.index).present?
      = presenter.category_name(f.index)
    - else
      = presenter.categories_for_select(locale_value).first[0]
  .actions.col
    %span.handle-move{"aria-hidden" => "true"}
    = link_to '#', class: 'remove-dropdown-list-option-trigger' do
      %span.remove{"aria-hidden" => "true"}
    %span.edit-dropdown-list-option-trigger.edit{"aria-hidden" => "true"}

.edit-category-content
  %h2 Edit category
  .form-group
    %label Category
    = f.select :category_id, presenter.categories_for_select(locale_value), {}, class: %i[form-control category-category]

  .form-group
    %label{:for => "newCategoryBackgroundImage"} Category Background image
    .custom-file
      = f.file_field :image, accept: 'image/*', class: %i[category-image-render]
    %small#newCategoryBackgroundImage-help.form-text Recommended image size for category background images is 1000 x 667 pixels.

    - if presenter.category_image(f.index).present?
      %small#newCategoryBackgroundImage-filename.form-text
        The current category background image filename is
        = succeed "." do
          %code= presenter.category_image_filename(f.index)
  .edit-new-category-actions
    -#%button.btn.btn-secondary{type: :button} Save changes
    -#%a.edit-category-cancel.cancel-action{:href => "#"} Cancel

.remove-category-content
  %h2 Remove "City bikes"
  %p
    Are you sure you want to remove the category
    %strong "City bikes"
    from the landing page?
  .remove-category-actions
    %button.btn.remove-category-btn.btn-negative{type: :button} Remove
    %a.remove-category-cancel.cancel-action{href: '#'} Cancel

%input.custom-validation{type: 'hidden', data: {'msg-count-validation': t(".need_at_least_3_categories"), min: 3, 'counter-name': 'item_counter'}, 'count-validation': 'min', name: 'tc3'}
%input.custom-validation{type: 'hidden', data: {'msg-count-validation': t(".need_at_most_7_categories"), max: 7, 'counter-name': 'item_counter'}, 'count-validation': 'max', name: 'tc7'}
