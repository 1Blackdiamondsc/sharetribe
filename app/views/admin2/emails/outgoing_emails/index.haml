.content-card-header
  %h1.content-card-header-title Custom outgoing address


- disable = show_branding_info || !can_set_sender_address

.content-card-section-container
  = form_tag(post_sender_address_url, method: :post, class: "content-card-section-form") do
    %section.content-card-section
      %h2 Outgoing email settings
      - if disable
        %p.ingress
          %svg{:height => "14", :style => "position: relative; top: -1px", :width => "14", :xmlns => "http://www.w3.org/2000/svg"}
            %g{:fill => "none", "fill-rule" => "evenodd", :stroke => "#FF9F05", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "1.5"}
              %path{:d => "M7 10a.375.375 0 100 .75.375.375 0 000-.75"}
              %path{:d => "M12.813 10.432A1.774 1.774 0 0111.226 13H2.774a1.773 1.773 0 01-1.586-2.568l4.225-8.45a1.774 1.774 0 013.174 0l4.226 8.45zM7 7.75v-3"}
          %strong
            To set your own email address as the sender and remove all Sharetribe branding from outgoing emails by
            = succeed "." do
              %a{:href => "/admin/plan"} upgrading to the Pro plan or higher

      %p.ingress
        This name and email address is used for emails sent from your marketplace to the marketplace members.
        = succeed "." do
          %a{:href => "https://help.sharetribe.com/en/articles/666096-how-to-define-and-edit-your-own-email-address-as-the-sender-of-all-outgoing-emails", :target => "_blank"} Learn more

      .form-group
        = label_tag :name, 'Sender name'
        = text_field_tag :name, user_defined_address.try(:[], :name), placeholder: t("admin.communities.outgoing_email.sender_name_placeholder"), class: %i[form-control], disabled: disable
        %small#senderName-help.form-text Name is shown to users in emails and various other places.
      .form-group
        - if user_defined_address.try(:[], :verification_status)
          = label_tag :name, 'Sender email  â€¢ '
          = image_tag 'svg/checkmark-green.svg', style: 'margin-top: -2px;'
          %span.success Verified
        - else
          = label_tag :name, 'Sender email'
        = text_field_tag :email, user_defined_address.try(:[], :email), placeholder: t("admin.communities.outgoing_email.sender_email_placeholder"), class: %i[form-control], disabled: disable
        %small#senderEmail-help.form-text The email address marketplace members will receive the email from.

    %section.content-card-terminal
      = submit_tag 'Save changes', class: %i[btn btn-primary]
