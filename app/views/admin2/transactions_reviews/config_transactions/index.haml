- content_for :title do
  = t('admin2.sidebar.transactions_reviews.config_transactions')

.content-card-header
  %h1.content-card-header-title
    = t('admin2.sidebar.transactions_reviews.config_transactions')

= form_for @current_community, url: update_config_admin2_transactions_reviews_config_transactions_path, html: { class: %i[content-card-section-container] }, method: :patch do |form|
  %section.content-card-section
    %h2
      = t('admin2.config_transactions.transaction_auto_completion')
    .content-card-section-form
      .form-group
        = form.label :automatic_confirmation_after_days, t('admin2.config_transactions.automatic_confirmation_after_days')
        .input-group
          = form.text_field :automatic_confirmation_after_days, class: %i[form-control], required: true, max: 85, maxlength: 2, min: 1, style: 'border-radius: 4px 0 0 4px', type: 'tel'
          .input-group-append#days_label
            %span.input-group-text
              = t('admin2.config_transactions.days')
        %small#minimumTransactionSize-help.form-text
          = t('admin2.config_transactions.info_text')
  %section.content-card-section
    %h2
      = t('admin2.config_transactions.transaction_agreement')
    .content-card-section-form
      = form.fields_for :community_customizations, @community_customization do |cc|
        .form-group
          = cc.label :transaction_agreement_label, t('admin2.config_transactions.agreement_label')
          = cc.text_field :transaction_agreement_label, class: %i[form-control]
          %small.form-text
            = t('admin2.config_transactions.agreement_label_info_text')
        .form-group
          = cc.label :transaction_agreement_content, t('admin2.config_transactions.agreement_text')
          = cc.text_area :transaction_agreement_content, class: %i[form-control]
          %small.form-text
            = t('admin2.config_transactions.agreement_text_info_text')
      .form-check
        = form.check_box :transaction_agreement_in_use, class: %i[form-check-input]
        = form.label :transaction_agreement_in_use, t('admin2.config_transactions.transaction_agreement_in_use'), class: %i[form-check-label]

  .content-card-terminal.without-margin
    = button_tag t('admin2.save_changes'), class: %i[btn btn-primary]

- content_for :extra_javascript do
  :javascript
    validateConfigureTransactions(#{@current_community.id});
