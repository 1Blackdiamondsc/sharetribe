:javascript
  function onDocumentReady(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading"){
      fn();
    } else {
      document.addEventListener('DOMContentLoaded', fn);
    }
  }

-# Intercom for admin area
- if on_admin2? && IntercomHelper.admin_intercom_respond_enabled?
  = render 'analytics/intercom', app_id: IntercomHelper.admin_intercom_app_id

- if IntercomHelper.admin_intercom_respond_enabled?
  - content_for :extra_javascript do
    :javascript
      window.ST = window.ST || {};
      var desktop_selector = "#admin-support-link";
      var mobile_selector = "#support_left_navi_link";
      $([desktop_selector, mobile_selector].join(", ")).click(function(e) {
        e.preventDefault();
        Intercom && Intercom('show');
      });
